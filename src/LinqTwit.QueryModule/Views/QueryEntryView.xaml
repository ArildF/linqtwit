<UserControl x:Class="LinqTwit.QueryModule.Views.QueryEntryView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Infrastructure="clr-namespace:LinqTwit.Infrastructure;assembly=LinqTwit.Infrastructure" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" 
             Background="Transparent">
    
    <UserControl.Resources>
        <Infrastructure:DataResource x:Key="DeactivateCommand" BindingTarget="{Binding DeactivateCommand}"/>
    </UserControl.Resources>
    <UserControl.InputBindings>
        <KeyBinding Key="Escape">
            <KeyBinding.Command>
                <Infrastructure:DataResourceBinding DataResource="{StaticResource DeactivateCommand}"/>
            </KeyBinding.Command>
        </KeyBinding>
        
    </UserControl.InputBindings>
    <Grid>
        <DockPanel>
            <Button DockPanel.Dock="Bottom" Command="{Binding Path=SubmitQueryCommand}" Background="Transparent" >_Submit</Button>
            <TextBox AcceptsReturn="True"  VerticalScrollBarVisibility="Auto" 
                     Text="{Binding Path=QueryText,  UpdateSourceTrigger=PropertyChanged}"
                     Infrastructure:FocusBehavior.BindableFocus="{Binding ActiveForInput, Mode=TwoWay}"
            
                     Background="AliceBlue" Foreground="AliceBlue" x:Name="EntryTextBox" PreviewMouseDown="EntryTextBox_MouseDown"/>
        </DockPanel>
    </Grid>
</UserControl>
